# KAIRO - Variables de Entorno
# Copia este archivo como .env.local y completa los valores

# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=sb_publishable_xxx
SUPABASE_SERVICE_ROLE_KEY=sb_secret_xxx

# Database (Prisma) - Transaction pooler para serverless (Vercel)
# IMPORTANTE: Usar puerto 6543 (Transaction mode) en lugar de 5432 (Session mode)
# El connection_limit=1 es cr√≠tico para serverless
DATABASE_URL=postgresql://postgres.PROJECT_REF:PASSWORD@aws-X-region.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1
DIRECT_URL=postgresql://postgres.PROJECT_REF:PASSWORD@aws-X-region.pooler.supabase.com:5432/postgres

# Secrets Encryption (generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
SECRETS_ENCRYPTION_KEY=your_64_char_hex_key_here

# WhatsApp Webhook
WHATSAPP_WEBHOOK_VERIFY_TOKEN=kairo_webhook_verify_token_change_me

# WhatsApp Webhook Security (HMAC-SHA256 signature verification)
# App Secret from Meta Developer Console (NOT the access token)
# Required in production to verify webhook authenticity
WHATSAPP_APP_SECRET=your_meta_app_secret_here

# Development only: Set to 'true' to bypass signature verification
# NEVER set this in production!
# WEBHOOK_BYPASS_SIGNATURE=true

# Vercel Cron Jobs (for media cleanup)
# Generate with: node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
CRON_SECRET=your_cron_secret_here
